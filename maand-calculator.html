<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<title>Hybride Model Calculator – Compact (All-in variabel salaris)</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; max-width: 900px; }
  label { font-weight: bold; margin-top: 10px; display: block; }
  select, input { padding: 6px; margin-top: 5px; width: 250px; }
  .result { background: #f5faff; padding: 15px; border: 1px solid #bcd; border-radius: 6px; margin-top: 20px; }
  .row { display: flex; justify-content: space-between; margin: 4px 0; }
  .value { font-weight: bold; }
  .note { font-size: 13px; color: #555; margin-top: 6px; }
</style>
</head>
<body>

<h1>Hybride Model Calculator</h1>
<p>Kies hieronder de variabele kosten en zie direct jouw berekende hybride beloning.</p>

<label>Uurtarief</label>
<select id="rate">
  <option>100</option>
  <option>110</option>
  <option>115</option>
  <option>120</option>
  <option>125</option>
  <option>130</option>
  <option>135</option>
  <option>140</option>
  <option>175</option>
</select>

<label>Uren per maand</label>
<input id="hours" type="number" value="133" />

<label>Vast salaris per maand</label>
<input id="fixed" type="number" value="3824" />

<label>Opleidingsbudget p/mnd</label>
<select id="training">
  <option value="0">€0</option>
  <option value="-50">-€50</option>
  <option value="-100">-€100</option>
  <option value="-150">-€150</option>
  <option value="-200">-€200</option>
</select>

<label>Leaseauto kosten p/mnd (excl laden)</label>
<select id="lease">
  <option value="0">€0</option>
  <option value="-725">-€725</option>
  <option value="-775">-€775</option>
  <option value="-925">-€925</option>
</select>

<label>Laadkosten p/mnd</label>
<select id="charging">
  <option value="0">€0</option>
  <option value="-100">-€100</option>
  <option value="-150">-€150</option>
  <option value="-250">-€250</option>
</select>

<label>Telefoonkosten p/mnd</label>
<select id="phone">
  <option value="0">€0</option>
  <option value="-15">-€15</option>
  <option value="-30">-€30</option>
</select>

<div class="result">
  <div class="row"><span>Omzet per maand:</span> <span class="value" id="revMonth"></span></div>
  <div class="row"><span>Kantoorkosten per maand:</span> <span class="value" id="officeMonth"></span></div>
  <div class="row"><span>Werkgeverslasten per maand:</span> <span class="value" id="wglMonth"></span></div>
  <div class="row"><span>Variabel salaris (incl. 8% vakantiegeld):</span> <span class="value" id="varBonus"></span></div>
  <div class="row"><strong>Totaal bruto per maand (vast + variabel)</strong> <span class="value" id="totalGross"></span></div>

  
</div>

<script>
function fmt(x) { return x.toLocaleString("nl-NL", { style: "currency", currency: "EUR" }); }

function calc() {
  let rate = Number(document.getElementById("rate").value);
  let hours = Number(document.getElementById("hours").value);
  let fixed = Number(document.getElementById("fixed").value);

  let train = Number(document.getElementById("training").value);
  let lease = Number(document.getElementById("lease").value);
  let charge = Number(document.getElementById("charging").value);
  let phone = Number(document.getElementById("phone").value);

  let revenue = rate * hours;
  let revenueYear = revenue * 12;

  // Kantoorkosten met cap
  let officeYear = Math.min(0.30 * revenueYear, 61276);
  let officeMonth = officeYear / 12;

  // Werkgeverslasten (hybride model)
  const WGL_RATE = 0.39;
  const WGL_CAP = 79412;

  let A = officeMonth;
  let R = revenue;
  let Fs = fixed;

  let v1 = (R - Fs - A - WGL_RATE * Fs) / (1 + WGL_RATE);

  let variable;
  let wglMonth;

  if (v1 < 0) {
    variable = 0;
    wglMonth = WGL_RATE * Math.min(WGL_CAP, Fs * 12) / 12;
  } else {
    let yearlyIncome1 = 12 * (Fs + v1);
    if (yearlyIncome1 <= WGL_CAP) {
      variable = v1;
      wglMonth = WGL_RATE * (Fs + v1);
    } else {
      let wglCapMonth = WGL_RATE * (WGL_CAP / 12);
      variable = R - Fs - wglCapMonth - A;
      if (variable < 0) variable = 0;
      wglMonth = wglCapMonth;
    }
  }

  // Variabele kosten toepassen (allemaal al all-in, geen vakantiegeldverhoging)
  let extraCosts = train + lease + charge + phone;
  variable += extraCosts;

  let totalGross = Fs + variable;

  document.getElementById("revMonth").textContent = fmt(revenue);
  document.getElementById("officeMonth").textContent = fmt(officeMonth);
  document.getElementById("wglMonth").textContent = fmt(wglMonth);
  document.getElementById("varBonus").textContent = fmt(variable);
  document.getElementById("totalGross").textContent = fmt(totalGross);
}

document.querySelectorAll("select, input").forEach(el => el.addEventListener("input", calc));
calc();
</script>

</body>
</html>


